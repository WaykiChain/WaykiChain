# include by Makefile.am

#AM_CPPFLAGS += -I$(top_srcdir)/src

bin_PROGRAMS += coin_test

JSON_TEST_FILES = \
  test/data/script_valid.json.h \
  test/data/base58_keys_valid.json.h \
  test/data/sig_canonical.json.h \
  test/data/sig_noncanonical.json.h \
  test/data/base58_encode_decode.json.h \
  test/data/base58_keys_invalid.json.h \
  test/data/script_invalid.json.h \
  test/data/tx_invalid.json.h \
  test/data/tx_valid.json.h \
  test/data/sighash.json.h	\
  test/systestbase.h \
RAW_TEST_FILES = test/data/alertTests.raw.h

#BUILT_SOURCES = $(JSON_TEST_FILES:.json=.json.h) $(RAW_TEST_FILES:.raw=.raw.h)

# test_dspay binary #
coin_test_CPPFLAGS = $(AM_CPPFLAGS) $(TESTDEFS) $(LIBSECP256K1_CPPFLAGS)
coin_test_LDADD = \
  $(LIBBITCOIN_SERVER) \
  $(LIBBITCOIN_WALLET) \
  $(LIBBITCOIN_CLI) \
  $(LIBBITCOIN_COMMON) \
  $(LIBLUA53) \
  $(LIBLEVELDB) \
  $(LIBMEMENV) \
  $(BOOST_LIBS) \
  $(BOOST_UNIT_TEST_FRAMEWORK_LIB) \
  $(EVENT_PTHREADS_LIBS) \
  $(EVENT_LIBS) \
  $(LIBSECP256K1)
#if ENABLE_WALLET
#coin_test_LDADD += $(LIBBITCOIN_WALLET)
#endif
coin_test_LDADD += $(BDB_LIBS)

coin_test_SOURCES = \
  test/allocator_tests.cpp \
  test/base32_tests.cpp \
  test/base58_tests.cpp \
  test/base64_tests.cpp \
  test/bloom_tests.cpp \
  test/canonical_tests.cpp \
  test/checkblock_tests.cpp \
  test/Checkpoints_tests.cpp \
  test/DoS_tests.cpp \
  test/key_tests.cpp \
  test/main_tests.cpp \
  test/mruset_tests.cpp \
  test/multisig_tests.cpp \
  test/netbase_tests.cpp \
  test/serialize_tests.cpp \
  test/sigopcount_tests.cpp \
  test/test_coin.cpp \
  test/uint256_tests.cpp \
  test/util_tests.cpp \
  test/sighash_tests.cpp \
  test/chainparams_tests.cpp \
  test/accountview_tests.cpp \
  test/scriptdb_tests.cpp \
  test/betroll_test.cpp \
  test/system_test.cpp	\
  test/systestbase.cpp	\
  test/systestscript.cpp \
  test/systemacct_test.cpp \
  test/pressure_tests.cpp \
  test/scriptdbex_tests.cpp	\
  test/account_tests.cpp \
  test/appacc_test.cpp \
  $(JSON_TEST_FILES) $(RAW_TEST_FILES)

